function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
    try {
        var info = gen[key](arg);
        var value = info.value;
    } catch (error) {
        reject(error);
        return;
    }
    if (info.done) {
        resolve(value);
    } else {
        Promise.resolve(value).then(_next, _throw);
    }
}
function _async_to_generator(fn) {
    return function() {
        var self = this, args = arguments;
        return new Promise(function(resolve, reject) {
            var gen = fn.apply(self, args);
            function _next(value) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
            }
            function _throw(err) {
                asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
            }
            _next(undefined);
        });
    };
}
import StreamingMetaApiConnection from './streamingMetaApiConnection';
import RpcMetaApiConnection from './rpcMetaApiConnection';
import StreamingMetaApiConnectionInstance from './streamingMetaApiConnectionInstance';
import RpcMetaApiConnectionInstance from './rpcMetaApiConnectionInstance';
let ConnectionRegistry = class ConnectionRegistry {
    /**
   * Creates and returns a new account streaming connection if doesnt exist, otherwise returns old
   * @param {MetatraderAccount} account MetaTrader account id to connect to
   * @param {HistoryStorage} historyStorage terminal history storage
   * @param {Date} [historyStartTime] history start time
   * @return {StreamingMetaApiConnection} streaming metaapi connection
   */ connectStreaming(account, historyStorage, historyStartTime) {
        if (!this._streamingConnections[account.id]) {
            this._streamingConnections[account.id] = new StreamingMetaApiConnection(this._options, this._metaApiWebsocketClient, this._terminalHashManager, account, historyStorage, this, historyStartTime, this._refreshSubscriptionsOpts);
        }
        const instance = new StreamingMetaApiConnectionInstance(this._metaApiWebsocketClient, this._streamingConnections[account.id]);
        this._streamingConnectionInstances[account.id] = this._streamingConnectionInstances[account.id] || [];
        this._streamingConnectionInstances[account.id].push(instance);
        return instance;
    }
    /**
   * Removes a streaming connection from registry
   * @param {MetatraderAccount} account MetaTrader account to remove from registry
   */ removeStreaming(account) {
        var _this = this;
        return _async_to_generator(function*() {
            if (_this._streamingConnections[account.id]) {
                delete _this._streamingConnections[account.id];
                delete _this._streamingConnectionInstances[account.id];
            }
            if (!_this._rpcConnections[account.id]) {
                yield _this._closeLastConnection(account);
            }
        })();
    }
    /**
   * Creates and returns a new account rpc connection if doesnt exist, otherwise returns old
   * @param {MetatraderAccount} account MetaTrader account id to connect to
   * @returns {RpcMetaApiConnection} rpc metaapi connection
   */ connectRpc(account) {
        if (!this._rpcConnections[account.id]) {
            this._rpcConnections[account.id] = new RpcMetaApiConnection(this._options, this._metaApiWebsocketClient, account, this);
        }
        const instance = new RpcMetaApiConnectionInstance(this._metaApiWebsocketClient, this._rpcConnections[account.id]);
        this._rpcConnectionInstances[account.id] = this._rpcConnectionInstances[account.id] || [];
        this._rpcConnectionInstances[account.id].push(instance);
        return instance;
    }
    /**
   * Removes an RPC connection from registry
   * @param {MetatraderAccount} account MetaTrader account to remove from registry
   */ removeRpc(account) {
        var _this = this;
        return _async_to_generator(function*() {
            if (_this._rpcConnections[account.id]) {
                delete _this._rpcConnections[account.id];
                delete _this._rpcConnectionInstances[account.id];
            }
            if (!_this._streamingConnections[account.id]) {
                yield _this._closeLastConnection(account);
            }
        })();
    }
    /**
   * Removes an account from registry
   * @param {string} accountId MetaTrader account id to remove
   */ remove(accountId) {
        delete this._rpcConnections[accountId];
        delete this._rpcConnectionInstances[accountId];
        delete this._streamingConnections[accountId];
        delete this._streamingConnectionInstances[accountId];
    }
    /**
   * Returns application type
   * @return {String} application type
   */ get application() {
        return this._application;
    }
    _closeLastConnection(account) {
        var _this = this;
        return _async_to_generator(function*() {
            const accountRegions = account.accountRegions;
            yield Promise.all(Object.values(accountRegions).map((replicaId)=>_this._metaApiWebsocketClient.unsubscribe(replicaId)));
        })();
    }
    /**
   * Returns the dictionary of streaming connections
   * @returns {{[id: string]: StreamingMetaApiConnection}}
   */ get streamingConnections() {
        return this._streamingConnections;
    }
    /**
   * Returns the dictionary of rpc connections
   * @returns {{[id: string]: RpcMetaApiConnection}}
   */ get rpcConnections() {
        return this._rpcConnections;
    }
    /**
   * Closes all connection instances for an account
   * @param {string} accountId 
   */ closeAllInstances(accountId) {
        if (this._rpcConnectionInstances[accountId]) {
            this._rpcConnectionInstances[accountId].forEach((instance)=>instance.close());
        }
        if (this._streamingConnectionInstances[accountId]) {
            this._streamingConnectionInstances[accountId].forEach((instance)=>instance.close());
        }
    }
    /**
   * Constructs a MetaTrader connection registry instance
   * @param {MetaApiOpts} options metaapi options
   * @param {MetaApiWebsocketClient} metaApiWebsocketClient MetaApi websocket client
   * @param {ClientApiClient} clientApiClient client API client
   * @param {String} application application id
   * @param {String} refreshSubscriptionsOpts subscriptions refresh options
   */ constructor(options, metaApiWebsocketClient, terminalHashManager, application = 'MetaApi', refreshSubscriptionsOpts){
        refreshSubscriptionsOpts = refreshSubscriptionsOpts || {};
        this._metaApiWebsocketClient = metaApiWebsocketClient;
        this._terminalHashManager = terminalHashManager;
        this._application = application;
        this._refreshSubscriptionsOpts = refreshSubscriptionsOpts;
        this._rpcConnections = {};
        this._rpcConnectionInstances = {};
        this._streamingConnections = {};
        this._streamingConnectionInstances = {};
        this._connectionLocks = {};
        this._options = options;
    }
};
/**
 * Manages account connections
 */ export { ConnectionRegistry as default };

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxhbm9uPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb24gZnJvbSAnLi9zdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbic7XG5pbXBvcnQgUnBjTWV0YUFwaUNvbm5lY3Rpb24gZnJvbSAnLi9ycGNNZXRhQXBpQ29ubmVjdGlvbic7XG5pbXBvcnQgU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb25JbnN0YW5jZSBmcm9tICcuL3N0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uSW5zdGFuY2UnO1xuaW1wb3J0IFJwY01ldGFBcGlDb25uZWN0aW9uSW5zdGFuY2UgZnJvbSAnLi9ycGNNZXRhQXBpQ29ubmVjdGlvbkluc3RhbmNlJztcblxuLyoqXG4gKiBNYW5hZ2VzIGFjY291bnQgY29ubmVjdGlvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29ubmVjdGlvblJlZ2lzdHJ5IHtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIE1ldGFUcmFkZXIgY29ubmVjdGlvbiByZWdpc3RyeSBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge01ldGFBcGlPcHRzfSBvcHRpb25zIG1ldGFhcGkgb3B0aW9uc1xuICAgKiBAcGFyYW0ge01ldGFBcGlXZWJzb2NrZXRDbGllbnR9IG1ldGFBcGlXZWJzb2NrZXRDbGllbnQgTWV0YUFwaSB3ZWJzb2NrZXQgY2xpZW50XG4gICAqIEBwYXJhbSB7Q2xpZW50QXBpQ2xpZW50fSBjbGllbnRBcGlDbGllbnQgY2xpZW50IEFQSSBjbGllbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGFwcGxpY2F0aW9uIGFwcGxpY2F0aW9uIGlkXG4gICAqIEBwYXJhbSB7U3RyaW5nfSByZWZyZXNoU3Vic2NyaXB0aW9uc09wdHMgc3Vic2NyaXB0aW9ucyByZWZyZXNoIG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMsIG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsIHRlcm1pbmFsSGFzaE1hbmFnZXIsXG4gICAgYXBwbGljYXRpb24gPSAnTWV0YUFwaScsIHJlZnJlc2hTdWJzY3JpcHRpb25zT3B0cykge1xuICAgIHJlZnJlc2hTdWJzY3JpcHRpb25zT3B0cyA9IHJlZnJlc2hTdWJzY3JpcHRpb25zT3B0cyB8fCB7fTtcbiAgICB0aGlzLl9tZXRhQXBpV2Vic29ja2V0Q2xpZW50ID0gbWV0YUFwaVdlYnNvY2tldENsaWVudDtcbiAgICB0aGlzLl90ZXJtaW5hbEhhc2hNYW5hZ2VyID0gdGVybWluYWxIYXNoTWFuYWdlcjtcbiAgICB0aGlzLl9hcHBsaWNhdGlvbiA9IGFwcGxpY2F0aW9uO1xuICAgIHRoaXMuX3JlZnJlc2hTdWJzY3JpcHRpb25zT3B0cyA9IHJlZnJlc2hTdWJzY3JpcHRpb25zT3B0cztcbiAgICB0aGlzLl9ycGNDb25uZWN0aW9ucyA9IHt9O1xuICAgIHRoaXMuX3JwY0Nvbm5lY3Rpb25JbnN0YW5jZXMgPSB7fTtcbiAgICB0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9ucyA9IHt9O1xuICAgIHRoaXMuX3N0cmVhbWluZ0Nvbm5lY3Rpb25JbnN0YW5jZXMgPSB7fTtcbiAgICB0aGlzLl9jb25uZWN0aW9uTG9ja3MgPSB7fTtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICBcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgYWNjb3VudCBzdHJlYW1pbmcgY29ubmVjdGlvbiBpZiBkb2VzbnQgZXhpc3QsIG90aGVyd2lzZSByZXR1cm5zIG9sZFxuICAgKiBAcGFyYW0ge01ldGF0cmFkZXJBY2NvdW50fSBhY2NvdW50IE1ldGFUcmFkZXIgYWNjb3VudCBpZCB0byBjb25uZWN0IHRvXG4gICAqIEBwYXJhbSB7SGlzdG9yeVN0b3JhZ2V9IGhpc3RvcnlTdG9yYWdlIHRlcm1pbmFsIGhpc3Rvcnkgc3RvcmFnZVxuICAgKiBAcGFyYW0ge0RhdGV9IFtoaXN0b3J5U3RhcnRUaW1lXSBoaXN0b3J5IHN0YXJ0IHRpbWVcbiAgICogQHJldHVybiB7U3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb259IHN0cmVhbWluZyBtZXRhYXBpIGNvbm5lY3Rpb25cbiAgICovXG4gIGNvbm5lY3RTdHJlYW1pbmcoYWNjb3VudCwgaGlzdG9yeVN0b3JhZ2UsIGhpc3RvcnlTdGFydFRpbWUpIHtcbiAgICBpZiAoIXRoaXMuX3N0cmVhbWluZ0Nvbm5lY3Rpb25zW2FjY291bnQuaWRdKSB7XG4gICAgICB0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9uc1thY2NvdW50LmlkXSA9IG5ldyBTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbih0aGlzLl9vcHRpb25zLFxuICAgICAgICB0aGlzLl9tZXRhQXBpV2Vic29ja2V0Q2xpZW50LCB0aGlzLl90ZXJtaW5hbEhhc2hNYW5hZ2VyLCBhY2NvdW50LCBoaXN0b3J5U3RvcmFnZSwgdGhpcywgaGlzdG9yeVN0YXJ0VGltZSxcbiAgICAgICAgdGhpcy5fcmVmcmVzaFN1YnNjcmlwdGlvbnNPcHRzKTtcbiAgICB9XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb25JbnN0YW5jZSh0aGlzLl9tZXRhQXBpV2Vic29ja2V0Q2xpZW50LCBcbiAgICAgIHRoaXMuX3N0cmVhbWluZ0Nvbm5lY3Rpb25zW2FjY291bnQuaWRdKTtcbiAgICB0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9uSW5zdGFuY2VzW2FjY291bnQuaWRdID0gdGhpcy5fc3RyZWFtaW5nQ29ubmVjdGlvbkluc3RhbmNlc1thY2NvdW50LmlkXSB8fCBbXTtcbiAgICB0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9uSW5zdGFuY2VzW2FjY291bnQuaWRdLnB1c2goaW5zdGFuY2UpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgc3RyZWFtaW5nIGNvbm5lY3Rpb24gZnJvbSByZWdpc3RyeVxuICAgKiBAcGFyYW0ge01ldGF0cmFkZXJBY2NvdW50fSBhY2NvdW50IE1ldGFUcmFkZXIgYWNjb3VudCB0byByZW1vdmUgZnJvbSByZWdpc3RyeVxuICAgKi9cbiAgYXN5bmMgcmVtb3ZlU3RyZWFtaW5nKGFjY291bnQpIHtcbiAgICBpZiAodGhpcy5fc3RyZWFtaW5nQ29ubmVjdGlvbnNbYWNjb3VudC5pZF0pIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9uc1thY2NvdW50LmlkXTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9uSW5zdGFuY2VzW2FjY291bnQuaWRdO1xuICAgIH1cbiAgICBpZighdGhpcy5fcnBjQ29ubmVjdGlvbnNbYWNjb3VudC5pZF0pIHtcbiAgICAgIGF3YWl0IHRoaXMuX2Nsb3NlTGFzdENvbm5lY3Rpb24oYWNjb3VudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgYWNjb3VudCBycGMgY29ubmVjdGlvbiBpZiBkb2VzbnQgZXhpc3QsIG90aGVyd2lzZSByZXR1cm5zIG9sZFxuICAgKiBAcGFyYW0ge01ldGF0cmFkZXJBY2NvdW50fSBhY2NvdW50IE1ldGFUcmFkZXIgYWNjb3VudCBpZCB0byBjb25uZWN0IHRvXG4gICAqIEByZXR1cm5zIHtScGNNZXRhQXBpQ29ubmVjdGlvbn0gcnBjIG1ldGFhcGkgY29ubmVjdGlvblxuICAgKi9cbiAgY29ubmVjdFJwYyhhY2NvdW50KSB7XG4gICAgaWYgKCF0aGlzLl9ycGNDb25uZWN0aW9uc1thY2NvdW50LmlkXSkge1xuICAgICAgdGhpcy5fcnBjQ29ubmVjdGlvbnNbYWNjb3VudC5pZF0gPSBuZXcgUnBjTWV0YUFwaUNvbm5lY3Rpb24odGhpcy5fb3B0aW9ucywgdGhpcy5fbWV0YUFwaVdlYnNvY2tldENsaWVudCwgYWNjb3VudCxcbiAgICAgICAgdGhpcyk7XG4gICAgfVxuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFJwY01ldGFBcGlDb25uZWN0aW9uSW5zdGFuY2UodGhpcy5fbWV0YUFwaVdlYnNvY2tldENsaWVudCwgXG4gICAgICB0aGlzLl9ycGNDb25uZWN0aW9uc1thY2NvdW50LmlkXSk7XG4gICAgdGhpcy5fcnBjQ29ubmVjdGlvbkluc3RhbmNlc1thY2NvdW50LmlkXSA9IHRoaXMuX3JwY0Nvbm5lY3Rpb25JbnN0YW5jZXNbYWNjb3VudC5pZF0gfHwgW107XG4gICAgdGhpcy5fcnBjQ29ubmVjdGlvbkluc3RhbmNlc1thY2NvdW50LmlkXS5wdXNoKGluc3RhbmNlKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBSUEMgY29ubmVjdGlvbiBmcm9tIHJlZ2lzdHJ5XG4gICAqIEBwYXJhbSB7TWV0YXRyYWRlckFjY291bnR9IGFjY291bnQgTWV0YVRyYWRlciBhY2NvdW50IHRvIHJlbW92ZSBmcm9tIHJlZ2lzdHJ5XG4gICAqL1xuICBhc3luYyByZW1vdmVScGMoYWNjb3VudCkge1xuICAgIGlmICh0aGlzLl9ycGNDb25uZWN0aW9uc1thY2NvdW50LmlkXSkge1xuICAgICAgZGVsZXRlIHRoaXMuX3JwY0Nvbm5lY3Rpb25zW2FjY291bnQuaWRdO1xuICAgICAgZGVsZXRlIHRoaXMuX3JwY0Nvbm5lY3Rpb25JbnN0YW5jZXNbYWNjb3VudC5pZF07XG4gICAgfVxuICAgIGlmKCF0aGlzLl9zdHJlYW1pbmdDb25uZWN0aW9uc1thY2NvdW50LmlkXSkge1xuICAgICAgYXdhaXQgdGhpcy5fY2xvc2VMYXN0Q29ubmVjdGlvbihhY2NvdW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhY2NvdW50IGZyb20gcmVnaXN0cnlcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjY291bnRJZCBNZXRhVHJhZGVyIGFjY291bnQgaWQgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmUoYWNjb3VudElkKSB7XG4gICAgZGVsZXRlIHRoaXMuX3JwY0Nvbm5lY3Rpb25zW2FjY291bnRJZF07XG4gICAgZGVsZXRlIHRoaXMuX3JwY0Nvbm5lY3Rpb25JbnN0YW5jZXNbYWNjb3VudElkXTtcbiAgICBkZWxldGUgdGhpcy5fc3RyZWFtaW5nQ29ubmVjdGlvbnNbYWNjb3VudElkXTtcbiAgICBkZWxldGUgdGhpcy5fc3RyZWFtaW5nQ29ubmVjdGlvbkluc3RhbmNlc1thY2NvdW50SWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYXBwbGljYXRpb24gdHlwZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGFwcGxpY2F0aW9uIHR5cGVcbiAgICovXG4gIGdldCBhcHBsaWNhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fYXBwbGljYXRpb247XG4gIH1cblxuICBhc3luYyBfY2xvc2VMYXN0Q29ubmVjdGlvbihhY2NvdW50KSB7XG4gICAgY29uc3QgYWNjb3VudFJlZ2lvbnMgPSBhY2NvdW50LmFjY291bnRSZWdpb25zO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC52YWx1ZXMoYWNjb3VudFJlZ2lvbnMpLm1hcChyZXBsaWNhSWQgPT5cbiAgICAgIHRoaXMuX21ldGFBcGlXZWJzb2NrZXRDbGllbnQudW5zdWJzY3JpYmUocmVwbGljYUlkKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpY3Rpb25hcnkgb2Ygc3RyZWFtaW5nIGNvbm5lY3Rpb25zXG4gICAqIEByZXR1cm5zIHt7W2lkOiBzdHJpbmddOiBTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbn19XG4gICAqL1xuICBnZXQgc3RyZWFtaW5nQ29ubmVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0cmVhbWluZ0Nvbm5lY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpY3Rpb25hcnkgb2YgcnBjIGNvbm5lY3Rpb25zXG4gICAqIEByZXR1cm5zIHt7W2lkOiBzdHJpbmddOiBScGNNZXRhQXBpQ29ubmVjdGlvbn19XG4gICAqL1xuICBnZXQgcnBjQ29ubmVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JwY0Nvbm5lY3Rpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyBhbGwgY29ubmVjdGlvbiBpbnN0YW5jZXMgZm9yIGFuIGFjY291bnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFjY291bnRJZCBcbiAgICovXG4gIGNsb3NlQWxsSW5zdGFuY2VzKGFjY291bnRJZCkge1xuICAgIGlmKHRoaXMuX3JwY0Nvbm5lY3Rpb25JbnN0YW5jZXNbYWNjb3VudElkXSkge1xuICAgICAgdGhpcy5fcnBjQ29ubmVjdGlvbkluc3RhbmNlc1thY2NvdW50SWRdLmZvckVhY2goaW5zdGFuY2UgPT4gaW5zdGFuY2UuY2xvc2UoKSk7XG4gICAgfVxuICAgIGlmKHRoaXMuX3N0cmVhbWluZ0Nvbm5lY3Rpb25JbnN0YW5jZXNbYWNjb3VudElkXSkge1xuICAgICAgdGhpcy5fc3RyZWFtaW5nQ29ubmVjdGlvbkluc3RhbmNlc1thY2NvdW50SWRdLmZvckVhY2goaW5zdGFuY2UgPT4gaW5zdGFuY2UuY2xvc2UoKSk7XG4gICAgfVxuICB9XG4gIFxufVxuIl0sIm5hbWVzIjpbIlN0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uIiwiUnBjTWV0YUFwaUNvbm5lY3Rpb24iLCJTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbkluc3RhbmNlIiwiUnBjTWV0YUFwaUNvbm5lY3Rpb25JbnN0YW5jZSIsIkNvbm5lY3Rpb25SZWdpc3RyeSIsImNvbm5lY3RTdHJlYW1pbmciLCJhY2NvdW50IiwiaGlzdG9yeVN0b3JhZ2UiLCJoaXN0b3J5U3RhcnRUaW1lIiwiX3N0cmVhbWluZ0Nvbm5lY3Rpb25zIiwiaWQiLCJfb3B0aW9ucyIsIl9tZXRhQXBpV2Vic29ja2V0Q2xpZW50IiwiX3Rlcm1pbmFsSGFzaE1hbmFnZXIiLCJfcmVmcmVzaFN1YnNjcmlwdGlvbnNPcHRzIiwiaW5zdGFuY2UiLCJfc3RyZWFtaW5nQ29ubmVjdGlvbkluc3RhbmNlcyIsInB1c2giLCJyZW1vdmVTdHJlYW1pbmciLCJfcnBjQ29ubmVjdGlvbnMiLCJfY2xvc2VMYXN0Q29ubmVjdGlvbiIsImNvbm5lY3RScGMiLCJfcnBjQ29ubmVjdGlvbkluc3RhbmNlcyIsInJlbW92ZVJwYyIsInJlbW92ZSIsImFjY291bnRJZCIsImFwcGxpY2F0aW9uIiwiX2FwcGxpY2F0aW9uIiwiYWNjb3VudFJlZ2lvbnMiLCJQcm9taXNlIiwiYWxsIiwiT2JqZWN0IiwidmFsdWVzIiwibWFwIiwicmVwbGljYUlkIiwidW5zdWJzY3JpYmUiLCJzdHJlYW1pbmdDb25uZWN0aW9ucyIsInJwY0Nvbm5lY3Rpb25zIiwiY2xvc2VBbGxJbnN0YW5jZXMiLCJmb3JFYWNoIiwiY2xvc2UiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJtZXRhQXBpV2Vic29ja2V0Q2xpZW50IiwidGVybWluYWxIYXNoTWFuYWdlciIsInJlZnJlc2hTdWJzY3JpcHRpb25zT3B0cyIsIl9jb25uZWN0aW9uTG9ja3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsT0FBT0EsZ0NBQWdDLCtCQUErQjtBQUN0RSxPQUFPQywwQkFBMEIseUJBQXlCO0FBQzFELE9BQU9DLHdDQUF3Qyx1Q0FBdUM7QUFDdEYsT0FBT0Msa0NBQWtDLGlDQUFpQztBQUszRCxJQUFBLEFBQU1DLHFCQUFOLE1BQU1BO0lBeUJuQjs7Ozs7O0dBTUMsR0FDREMsaUJBQWlCQyxPQUFPLEVBQUVDLGNBQWMsRUFBRUMsZ0JBQWdCLEVBQUU7UUFDMUQsSUFBSSxDQUFDLElBQUksQ0FBQ0MscUJBQXFCLENBQUNILFFBQVFJLEVBQUUsQ0FBQyxFQUFFO1lBQzNDLElBQUksQ0FBQ0QscUJBQXFCLENBQUNILFFBQVFJLEVBQUUsQ0FBQyxHQUFHLElBQUlWLDJCQUEyQixJQUFJLENBQUNXLFFBQVEsRUFDbkYsSUFBSSxDQUFDQyx1QkFBdUIsRUFBRSxJQUFJLENBQUNDLG9CQUFvQixFQUFFUCxTQUFTQyxnQkFBZ0IsSUFBSSxFQUFFQyxrQkFDeEYsSUFBSSxDQUFDTSx5QkFBeUI7UUFDbEM7UUFDQSxNQUFNQyxXQUFXLElBQUliLG1DQUFtQyxJQUFJLENBQUNVLHVCQUF1QixF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